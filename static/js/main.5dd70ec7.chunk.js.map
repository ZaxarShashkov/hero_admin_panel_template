{"version":3,"sources":["hooks/http.hook.js","components/heroesList/heroesSlice.js","components/heroesListItem/HeroesListItem.js","components/spinner/Spinner.js","components/heroesList/HeroesList.js","components/heroesFilters/filtersSlice.js","store/index.js","components/heroesAddForm/HeroesAddForm.js","components/heroesFilters/HeroesFilters.js","components/app/App.js","index.js"],"names":["useHttp","request","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","method","body","headers","response","data","_args","arguments","wrap","_context","prev","next","length","undefined","fetch","sent","ok","Error","concat","status","json","abrupt","t0","stop","_x","apply","heroesAdapter","createEntityAdapter","initialState","getInitialState","heroesLoadingStatus","fetchHeroes","createAsyncThunk","heroesSlice","createSlice","name","reducers","heroCreated","state","action","addOne","payload","heroDeleted","removeOne","extraReducers","builder","addCase","pending","fulfilled","setAll","rejected","addDefaultCase","actions","reducer","selectAll","getSelectors","heroesReducer","filteredHeroesSelector","createSelector","filtersReducer","activeFilter","filter","heroes","item","element","heroesFetching","heroesFetched","heroesFetchingError","HeroesListItem","elementClassName","description","onDelete","_jsxs","className","children","_jsx","src","alt","style","onClick","type","aria-label","Spinner","role","HeroesList","filteredHeroes","useSelector","dispatch","useDispatch","useEffect","useCallback","id","then","console","log","catch","err","arr","elements","map","props","_objectWithoutProperties","_objectSpread","filtersAdapter","filtersLoadingStatus","fetchFilters","filtersSlice","filtersChanged","filtersFetching","filtersFetched","filtersFetchingError","stringMiddleware","getState","store","configureStore","middleware","getDefaultMiddleware","devTools","process","HeroesAddForm","_useState","useState","_useState2","_slicedToArray","heroName","setHeroName","_useState3","_useState4","heroDescr","setHeroDescr","_useState5","_useState6","heroElement","setHeroElement","filters","onSubmit","e","preventDefault","newHero","uuidv4","JSON","stringify","res","htmlFor","required","placeholder","value","onChange","target","height","label","renderFilters","HeroesFilters","_useSelector","btnClass","classNames","active","App","ReactDOM","render","React","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.5dd70ec7.chunk.js","sourcesContent":["import { useCallback } from 'react';\n\nexport const useHttp = () => {\n\n\tconst request = async (\n\t\turl,\n\t\tmethod = 'GET',\n\t\tbody = null,\n\t\theaders = { 'Content-Type': 'application/json' }\n\t) => {\n\t\ttry {\n\t\t\tconst response = await fetch(url, { method, body, headers });\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(`Could not fetch ${url}, status: ${response.status}`);\n\t\t\t}\n\n\t\t\tconst data = await response.json();\n\n\t\t\treturn data;\n\t\t} catch (e) {\n\t\t\tthrow e;\n\t\t}\n\t};\n\n\treturn { request };\n};\n","import { createSlice, createAsyncThunk, createEntityAdapter , createSelector} from '@reduxjs/toolkit';\r\nimport { useHttp } from '../../hooks/http.hook';\r\n\r\nconst heroesAdapter = createEntityAdapter();\r\n\r\nconst initialState = heroesAdapter.getInitialState({\r\n\theroesLoadingStatus: 'idle',\r\n});\r\n\r\nexport const fetchHeroes = createAsyncThunk('heroes/fetchHeroes', () => {\r\n\tconst { request } = useHttp();\r\n\treturn request('http://localhost:3001/heroes');\r\n});\r\n\r\nconst heroesSlice = createSlice({\r\n\tname: 'heroes',\r\n\tinitialState,\r\n\treducers: {\r\n\t\theroCreated: (state, action) => {\r\n\t\t\theroesAdapter.addOne(state, action.payload);\r\n\t\t},\r\n\t\theroDeleted: (state, action) => {\r\n\t\t\theroesAdapter.removeOne(state, action.payload);\r\n\t\t},\r\n\t},\r\n\textraReducers: (builder) => {\r\n\t\tbuilder\r\n\t\t\t.addCase(fetchHeroes.pending, (state) => {\r\n\t\t\t\tstate.heroesLoadingStatus = 'loading';\r\n\t\t\t})\r\n\t\t\t.addCase(fetchHeroes.fulfilled, (state, action) => {\r\n\t\t\t\tstate.heroesLoadingStatus = 'idle';\r\n\t\t\t\theroesAdapter.setAll(state, action.payload);\r\n\t\t\t})\r\n\t\t\t.addCase(fetchHeroes.rejected, (state) => {\r\n\t\t\t\tstate.heroesLoadingStatus = 'error';\r\n\t\t\t})\r\n\t\t\t.addDefaultCase(() => {});\r\n\t},\r\n});\r\n\r\nconst { actions, reducer } = heroesSlice;\r\n\r\nexport default reducer;\r\n\r\nconst { selectAll } = heroesAdapter.getSelectors((state) => state.heroesReducer);\r\n\r\nexport const filteredHeroesSelector = createSelector(\r\n\t(state) => state.filtersReducer.activeFilter,\r\n\tselectAll,\r\n\t(filter, heroes) => {\r\n\t\tif (filter === 'all') {\r\n\t\t\treturn heroes;\r\n\t\t} else {\r\n\t\t\treturn heroes.filter((item) => item.element === filter);\r\n\t\t}\r\n\t}\r\n);\r\n\r\nexport const { heroesFetching, heroesFetched, heroesFetchingError, heroCreated, heroDeleted } =\r\n\tactions;\r\n","\r\nconst HeroesListItem = ({name, description, element,onDelete}) => {\r\n\r\n    let elementClassName;\r\n    \r\n\r\n    switch (element) {\r\n        case 'fire':\r\n            elementClassName = 'bg-danger bg-gradient';\r\n            break;\r\n        case 'water':\r\n            elementClassName = 'bg-primary bg-gradient';\r\n            break;\r\n        case 'wind':\r\n            elementClassName = 'bg-success bg-gradient';\r\n            break;\r\n        case 'earth':\r\n            elementClassName = 'bg-secondary bg-gradient';\r\n            break;\r\n        default:\r\n            elementClassName = 'bg-warning bg-gradient';\r\n    }\r\n\r\n    return (\r\n        <li \r\n            className={`card flex-row mb-4 shadow-lg text-white ${elementClassName}`}>\r\n            <img src=\"http://www.stpaulsteinbach.org/wp-content/uploads/2014/09/unknown-hero.jpg\" \r\n                 className=\"img-fluid w-25 d-inline\" \r\n                 alt=\"unknown hero\" \r\n                 style={{'objectFit': 'cover'}}/>\r\n            <div className=\"card-body\">\r\n                \r\n                <h3 className=\"card-title\">{name}</h3>\r\n                <p className=\"card-text\">{description}</p>\r\n            </div>\r\n            <span className=\"position-absolute top-0 start-100 translate-middle badge border rounded-pill bg-light\" onClick={onDelete}>\r\n                <button type=\"button\" className=\"btn-close btn-close\" aria-label=\"Close\"></button>\r\n            </span>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default HeroesListItem;","\nconst Spinner = () => {\n    return (\n        <div className=\"spinner-border mx-auto mt-5\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n        </div>\n    )\n}\n\nexport default Spinner;","import { useHttp } from '../../hooks/http.hook';\r\nimport { useCallback, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { heroDeleted, fetchHeroes, filteredHeroesSelector } from './heroesSlice';\r\nimport HeroesListItem from '../heroesListItem/HeroesListItem';\r\nimport Spinner from '../spinner/Spinner';\r\n\r\nconst HeroesList = () => {\r\n\tconst filteredHeroes = useSelector(filteredHeroesSelector);\r\n\tconst heroesLoadingStatus = useSelector((state) => state.heroesReducer.heroesLoadingStatus);\r\n\tconst dispatch = useDispatch();\r\n\tconst { request } = useHttp();\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(fetchHeroes());\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst onDelete = useCallback(\r\n\t\t(id) => {\r\n\t\t\trequest(`http://localhost:3001/heroes/${id}`, 'DELETE')\r\n\t\t\t\t.then((data) => console.log(data, 'Deleted'))\r\n\t\t\t\t.then(dispatch(heroDeleted(id)))\r\n\t\t\t\t.catch((err) => console.log(err));\r\n\t\t\t// eslint-disable-next-line\r\n\t\t},\r\n\t\t[request]\r\n\t);\r\n\r\n\tif (heroesLoadingStatus === 'loading') {\r\n\t\treturn <Spinner />;\r\n\t} else if (heroesLoadingStatus === 'error') {\r\n\t\treturn <h5 className='text-center mt-5'>Ошибка загрузки</h5>;\r\n\t}\r\n\r\n\tconst renderHeroesList = (arr) => {\r\n\t\tif (arr.length === 0) {\r\n\t\t\treturn <h5 className='text-center mt-5'>Героев пока нет</h5>;\r\n\t\t}\r\n\r\n\t\treturn arr.map(({ id, ...props }) => {\r\n\t\t\treturn <HeroesListItem key={id} {...props} onDelete={() => onDelete(id)} />;\r\n\t\t});\r\n\t};\r\n\r\n\tconst elements = renderHeroesList(filteredHeroes);\r\n\treturn <ul>{elements}</ul>;\r\n};\r\n\r\nexport default HeroesList;\r\n","import { createAsyncThunk, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\r\nimport { useHttp } from '../../hooks/http.hook';\r\n\r\nconst filtersAdapter = createEntityAdapter();\r\n\r\nconst initialState = filtersAdapter.getInitialState({\r\n\tfiltersLoadingStatus: 'idle',\r\n\tactiveFilter: 'all',\r\n});\r\n\r\nexport const fetchFilters = createAsyncThunk('filters/fetchFilters', () => {\r\n\tconst { request } = useHttp();\r\n\treturn request('http://localhost:3001/filters');\r\n});\r\n\r\nconst filtersSlice = createSlice({\r\n\tname: 'filters',\r\n\tinitialState,\r\n\treducers: {\r\n\t\tfiltersChanged: (state, action) => {\r\n\t\t\tstate.activeFilter = action.payload;\r\n\t\t},\r\n\t},\r\n\textraReducers: (builder) => {\r\n\t\tbuilder\r\n\t\t\t.addCase(fetchFilters.pending, (state) => {\r\n\t\t\t\tstate.filtersLoadingStatus = 'loading';\r\n\t\t\t})\r\n\t\t\t.addCase(fetchFilters.fulfilled, (state, action) => {\r\n\t\t\t\tstate.filtersLoadingStatus = 'idle';\r\n\t\t\t\tfiltersAdapter.setAll(state, action.payload);\r\n\t\t\t})\r\n\t\t\t.addCase(fetchFilters.rejected, (state) => {\r\n\t\t\t\tstate.filtersLoadingStatus = 'error';\r\n\t\t\t})\r\n\t\t\t.addDefaultCase(() => {});\r\n\t},\r\n});\r\n\r\nconst { actions, reducer } = filtersSlice;\r\n\r\nexport default reducer;\r\n\r\nexport const { selectAll } = filtersAdapter.getSelectors((state) => state.filtersReducer);\r\n\r\nexport const { filtersFetching, filtersFetched, filtersFetchingError, filtersChanged } =\r\n\tactions;\r\n","import { configureStore } from '@reduxjs/toolkit';\nimport heroesReducer from '../components/heroesList/heroesSlice';\nimport filtersReducer from '../components/heroesFilters/filtersSlice'\n\nconst stringMiddleware =\n\t({ dispatch, getState }) =>\n\t(next) =>\n\t(action) => {\n\t\tif (typeof action === 'string') {\n\t\t\treturn next({\n\t\t\t\ttype: action,\n\t\t\t});\n\t\t}\n\t\treturn next(action);\n\t};\n\nconst store = configureStore({\n\treducer: { heroesReducer , filtersReducer },\n\tmiddleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(stringMiddleware),\n\tdevTools: process.env.NODE_ENV !== 'production',\n});\n\n\nexport default store;\n","import { useHttp } from '../../hooks/http.hook';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { v4 as uuidv4 } from 'uuid';\nimport store from '../../store/index';\nimport { selectAll } from '../heroesFilters/filtersSlice';\n\nimport { heroCreated } from '../heroesList/heroesSlice';\n\nconst HeroesAddForm = () => {\n\tconst [heroName, setHeroName] = useState('');\n\tconst [heroDescr, setHeroDescr] = useState('');\n\tconst [heroElement, setHeroElement] = useState('');\n\n\tconst { filtersLoadingStatus } = useSelector((state) => state.filtersReducer);\n\tconst filters = selectAll(store.getState());\n\tconst dispatch = useDispatch();\n\tconst { request } = useHttp();\n\n\tconst onSubmitHandler = (e) => {\n\t\te.preventDefault();\n\t\tconst newHero = {\n\t\t\tid: uuidv4(),\n\t\t\tname: heroName,\n\t\t\tdescription: heroDescr,\n\t\t\telement: heroElement,\n\t\t};\n\n\n\t\trequest('http://localhost:3001/heroes', 'POST', JSON.stringify(newHero))\n\t\t\t.then((res) => console.log(res, 'Отправка успешна'))\n\t\t\t.then(dispatch(heroCreated(newHero)))\n\t\t\t.catch((err) => console.log(err));\n\n\t\t\n\t\tsetHeroName('');\n\t\tsetHeroDescr('');\n\t\tsetHeroElement('');\n\t};\n\n\tconst renderFilters = (filters, status) => {\n\t\tif (status === 'loading') {\n\t\t\treturn <option>Загрузка элементов</option>;\n\t\t} else if (status === 'error') {\n\t\t\treturn <option>Ошибка загрузки</option>;\n\t\t}\n\n\t\tif (filters && filters.length > 0) {\n\t\t\treturn filters.map(({ name, label }) => {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tif (name === 'all') return;\n\n\t\t\t\treturn (\n\t\t\t\t\t<option key={name} value={name}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</option>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t};\n\treturn (\n\t\t<form className='border p-4 shadow-lg rounded' onSubmit={onSubmitHandler}>\n\t\t\t<div className='mb-3'>\n\t\t\t\t<label htmlFor='name' className='form-label fs-4'>\n\t\t\t\t\tИмя нового героя\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\ttype='text'\n\t\t\t\t\tname='name'\n\t\t\t\t\tclassName='form-control'\n\t\t\t\t\tid='name'\n\t\t\t\t\tplaceholder='Как меня зовут?'\n\t\t\t\t\tvalue={heroName}\n\t\t\t\t\tonChange={(e) => setHeroName(e.target.value)}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className='mb-3'>\n\t\t\t\t<label htmlFor='text' className='form-label fs-4'>\n\t\t\t\t\tОписание\n\t\t\t\t</label>\n\t\t\t\t<textarea\n\t\t\t\t\trequired\n\t\t\t\t\tname='text'\n\t\t\t\t\tclassName='form-control'\n\t\t\t\t\tid='text'\n\t\t\t\t\tplaceholder='Что я умею?'\n\t\t\t\t\tstyle={{ height: '130px' }}\n\t\t\t\t\tvalue={heroDescr}\n\t\t\t\t\tonChange={(e) => setHeroDescr(e.target.value)}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className='mb-3'>\n\t\t\t\t<label htmlFor='element' className='form-label'>\n\t\t\t\t\tВыбрать элемент героя\n\t\t\t\t</label>\n\t\t\t\t<select\n\t\t\t\t\trequired\n\t\t\t\t\tclassName='form-select'\n\t\t\t\t\tid='element'\n\t\t\t\t\tname='element'\n\t\t\t\t\tvalue={heroElement}\n\t\t\t\t\tonChange={(e) => setHeroElement(e.target.value)}>\n\t\t\t\t\t<option value=''>Я владею элементом...</option>\n\t\t\t\t\t{renderFilters(filters, filtersLoadingStatus)}\n\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<button type='submit' className='btn btn-primary'>\n\t\t\t\tСоздать\n\t\t\t</button>\n\t\t</form>\n\t);\n};\nexport default HeroesAddForm;\n","import { useHttp } from '../../hooks/http.hook';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport classNames from 'classnames';\r\nimport { filtersChanged, fetchFilters, selectAll } from './filtersSlice';\r\nimport store from '../../store/index';\r\nimport Spinner from '../spinner/Spinner';\r\n\r\nconst HeroesFilters = () => {\r\n\tconst { filtersLoadingStatus, activeFilter } = useSelector((state) => state.filtersReducer);\r\n\tconst filters = selectAll(store.getState());\r\n\tconsole.log(filters);\r\n\tconst dispatch = useDispatch();\r\n\tconst { request } = useHttp();\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(fetchFilters(request));\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tif (filtersLoadingStatus === 'loading') {\r\n\t\treturn <Spinner />;\r\n\t} else if (filtersLoadingStatus === 'error') {\r\n\t\treturn <h5 className='text-center mt-5'>Ошибка загрузки</h5>;\r\n\t}\r\n\r\n\tconst renderFilters = (arr) => {\r\n\t\tif (arr.length === 0) {\r\n\t\t\treturn <h5 className='text-center mt-5'>Фильтры не найдены</h5>;\r\n\t\t}\r\n\r\n\t\treturn arr.map(({ name, className, label }) => {\r\n\t\t\tconst btnClass = classNames('btn', className, {\r\n\t\t\t\tactive: name === activeFilter,\r\n\t\t\t});\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<button\r\n\t\t\t\t\tkey={name}\r\n\t\t\t\t\tid={name}\r\n\t\t\t\t\tclassName={btnClass}\r\n\t\t\t\t\tonClick={() => dispatch(filtersChanged(name))}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</button>\r\n\t\t\t);\r\n\t\t});\r\n\t};\r\n\r\n\tconst elements = renderFilters(filters);\r\n\r\n\treturn (\r\n\t\t<div className='card shadow-lg mt-4'>\r\n\t\t\t<div className='card-body'>\r\n\t\t\t\t<p className='card-text'>Отфильтруйте героев по элементам</p>\r\n\t\t\t\t<div className='btn-group'>{elements}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default HeroesFilters;\r\n","import HeroesList from '../heroesList/HeroesList';\nimport HeroesAddForm from '../heroesAddForm/HeroesAddForm';\nimport HeroesFilters from '../heroesFilters/HeroesFilters';\n\nimport './app.scss';\n\nconst App = () => {\n    \n    return (\n        <main className=\"app\">\n            <div className=\"content\">\n                <HeroesList/>\n                <div className=\"content__interactive\">\n                    <HeroesAddForm/>\n                    <HeroesFilters/>\n                </div>\n            </div>\n        </main>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './components/app/App';\nimport store from './store';\n\nimport './styles/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}